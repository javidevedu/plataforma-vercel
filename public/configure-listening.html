<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurar Listening - Plataforma de Aprendizaje</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="configure-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="configure-container">
        <!-- Header -->
        <header class="configure-header">
            <div class="header-content">
                <h1><i class="fas fa-volume-up"></i> Configurar Listening</h1>
                <div class="header-actions">
                    <button id="previewActivity" class="btn btn-secondary">
                        <i class="fas fa-eye"></i> Vista Previa
                    </button>
                    <button id="saveActivity" class="btn btn-primary">
                        <i class="fas fa-save"></i> Guardar Actividad
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="configure-content">
            <!-- Activity Info -->
            <div class="activity-info-section">
                <h2>Información de la Actividad</h2>
                <div class="form-group">
                    <label for="activityTitle">Título de la Actividad</label>
                    <input type="text" id="activityTitle" placeholder="Ej: Listening sobre el clima">
                </div>
                <div class="form-group">
                    <label for="activityDescription">Descripción</label>
                    <textarea id="activityDescription" placeholder="Describe la actividad para los estudiantes..."></textarea>
                </div>
                <div class="form-group">
                    <label for="activityTimeLimit">Tiempo límite (minutos)</label>
                    <input type="number" id="activityTimeLimit" min="1" max="120" value="30">
                </div>
            </div>

            <!-- Audio Configuration -->
            <div class="audio-configuration-section">
                <div class="section-header">
                    <h2>Configuración del Audio</h2>
                </div>

                <div class="audio-upload-section">
                    <div class="form-group">
                        <label for="audioFile">Archivo de Audio</label>
                        <div class="file-upload-container">
                            <input type="file" id="audioFile" accept="audio/*" class="file-input">
                            <label for="audioFile" class="file-upload-label">
                                <i class="fas fa-upload"></i>
                                <span>Seleccionar archivo de audio</span>
                            </label>
                        </div>
                        <small class="help-text">
                            <i class="fas fa-info-circle"></i>
                            Formatos soportados: MP3, WAV, OGG. Tamaño máximo: 10MB
                        </small>
                    </div>

                    <div id="audioPreview" class="audio-preview hidden">
                        <h3>Vista Previa del Audio</h3>
                        <div class="audio-player-container">
                            <audio id="audioPlayer" controls>
                                <source id="audioSource" src="" type="audio/mpeg">
                                Tu navegador no soporta el elemento de audio.
                            </audio>
                        </div>
                        <div class="audio-info">
                            <p><strong>Archivo:</strong> <span id="audioFileName"></span></p>
                            <p><strong>Tamaño:</strong> <span id="audioFileSize"></span></p>
                            <p><strong>Duración:</strong> <span id="audioDuration"></span></p>
                        </div>
                        <button id="removeAudio" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Remover Audio
                        </button>
                    </div>
                </div>
            </div>

            <!-- Questions Configuration -->
            <div class="questions-configuration-section">
                <div class="section-header">
                    <h2>Preguntas de Comprensión</h2>
                    <button id="addQuestion" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Agregar Pregunta
                    </button>
                </div>

                <div id="questionsContainer" class="questions-container">
                    <!-- Las preguntas se agregarán dinámicamente -->
                </div>
            </div>

            <!-- Preview Section -->
            <div id="previewSection" class="preview-section hidden">
                <div class="section-header">
                    <h2>Vista Previa de la Actividad</h2>
                    <button id="closePreview" class="btn btn-secondary">
                        <i class="fas fa-times"></i> Cerrar Vista Previa
                    </button>
                </div>
                <div id="previewContent" class="preview-content">
                    <!-- El contenido de vista previa se cargará aquí -->
                </div>
            </div>
        </main>

        <!-- Question Template (hidden) -->
        <template id="questionTemplate">
            <div class="question-card" data-question-id="">
                <div class="question-header">
                    <h3>Pregunta <span class="question-number">1</span></h3>
                    <div class="question-actions">
                        <button class="btn btn-sm btn-secondary move-up" title="Mover arriba">
                            <i class="fas fa-arrow-up"></i>
                        </button>
                        <button class="btn btn-sm btn-secondary move-down" title="Mover abajo">
                            <i class="fas fa-arrow-down"></i>
                        </button>
                        <button class="btn btn-sm btn-danger delete-question" title="Eliminar pregunta">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                
                <div class="question-content">
                    <div class="form-group">
                        <label>Texto de la pregunta</label>
                        <textarea class="question-text" placeholder="Escribe la pregunta aquí..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Puntos</label>
                        <input type="number" class="question-points" min="1" max="10" value="1">
                    </div>
                    
                    <div class="options-section">
                        <label>Opciones de respuesta</label>
                        <div class="options-container">
                            <!-- Las opciones se agregarán dinámicamente -->
                        </div>
                        <button class="btn btn-sm btn-outline add-option">
                            <i class="fas fa-plus"></i> Agregar Opción
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label>Respuesta correcta</label>
                        <select class="correct-answer">
                            <option value="">Selecciona la respuesta correcta</option>
                        </select>
                    </div>
                </div>
            </div>
        </template>

        <!-- Option Template (hidden) -->
        <template id="optionTemplate">
            <div class="option-item">
                <input type="text" class="option-text" placeholder="Escribe la opción aquí...">
                <button class="btn btn-sm btn-danger remove-option" title="Eliminar opción">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </template>
    </div>

    <script src="configure-listening-script.js"></script>
</body>
</html>
